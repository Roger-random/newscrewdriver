---
layout: post
title: iRobot Roomba Virtual Wall
date: 2022-04-11 12:30:00.000000000 +00:00
type: post
post_id: '29535'
parent_id: '0'
published: true
password: ''
status: publish
categories:
- Teardown
tags: []
meta:
  _last_editor_used_jetpack: block-editor
  _thumbnail_id: '29541'
  _publicize_job_id: '71259229636'
  timeline_notification: '1649705439'
  _elasticsearch_data_sharing_indexed_on: '2024-11-18 13:31:26'
author:
  login: inkarc
  email: luxo.lamp@gmail.com
  display_name: Roger Cheng
  first_name: Roger
  last_name: Cheng
permalink: "/2022/04/11/irobot-roomba-virtual-wall/"
---
<p><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd"><br />
<!-- wp:paragraph --><html><body></p>
<p>An old Roomba retired due to worn batteries had an accompanying virtual wall unit for the user to limit its range of motion. Today I take it apart to see what's inside. I understand it is functionally similar to an infrared remote control, so I expected to find not much beyond a circuit board with an infrared emitter. There are two user controls: an on/off power switch and a sliding switch to select from one of three distance ranges. The push on/off power switch felt like it had two detents, like how a camera shutter button has an initial detent for focus before pushing all the way to take a picture. This particular virtual wall unit also has something rattling around inside and I'm curious to find out the cause.</p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:image {"id":29544,"sizeSlug":"large","linkDestination":"none"} --></p>
<figure class="wp-block-image size-large"><img src="https://newscrewdriver.com/wp-content/uploads/2022/03/roomba-virtual-wall-bottom.jpg?w=1024" alt="" class="wp-image-29544"></figure>
<p><!-- /wp:image --></p>
<p><!-- wp:paragraph --></p>
<p>Looking at the diagram at the base of the unit, I noticed the zone is drawn as a narrow cone plus a small circular area. This implies two emitters: one directional and one not. Examining the unit we can see where they would be: the directional beam would come out of the small gray "nose" and the omnidirectional beam is cast from the circular protrusion up top.</p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:image {"id":29548,"sizeSlug":"large","linkDestination":"none"} --></p>
<figure class="wp-block-image size-large"><img src="https://newscrewdriver.com/wp-content/uploads/2022/03/roomba-virtual-wall-beam.jpg?w=1024" alt="" class="wp-image-29548"></figure>
<p><!-- /wp:image --></p>
<p><!-- wp:paragraph --></p>
<p>These beams are invisible to the human eye, but my cell phone camera could pick up a glow from the directional emitter. This glow is stronger when we increase the range of the device via slider up top. My camera didn't pick up anything from the omnidirectional cylinder. The faint green glow visible in this picture is from the human-visible green LED that indicates the unit is turned on.</p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:image {"id":29550,"sizeSlug":"large","linkDestination":"none"} --></p>
<figure class="wp-block-image size-large"><img src="https://newscrewdriver.com/wp-content/uploads/2022/03/roomba-virtual-wall-d-cell-batteries.jpg?w=1024" alt="" class="wp-image-29550"></figure>
<p><!-- /wp:image --></p>
<p><!-- wp:paragraph --></p>
<p>Most of the volume and heft came from the pair of D-cell alkaline batteries that are all but extinct in modern electronics.</p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:image {"id":29552,"sizeSlug":"large","linkDestination":"none"} --></p>
<figure class="wp-block-image size-large"><img src="https://newscrewdriver.com/wp-content/uploads/2022/03/roomba-virtual-wall-fasteners-under-feet.jpg?w=1024" alt="" class="wp-image-29552"></figure>
<p><!-- /wp:image --></p>
<p><!-- wp:paragraph --></p>
<p>Fasteners are hidden under each of the four rubber feet.</p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:image {"id":29554,"sizeSlug":"large","linkDestination":"none"} --></p>
<figure class="wp-block-image size-large"><img src="https://newscrewdriver.com/wp-content/uploads/2022/03/roomba-virtual-wall-broken-plastic-spacer.jpg?w=1024" alt="" class="wp-image-29554"></figure>
<p><!-- /wp:image --></p>
<p><!-- wp:paragraph --></p>
<p>Here's the mystery of rattling noise: plastic spacers around two of the screws have broken loose. (Intact at left, broken at right.) At a guess, they broke from the impact of this unit getting dropped on the floor sometime in its life.</p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:image {"id":29556,"sizeSlug":"large","linkDestination":"none"} --></p>
<figure class="wp-block-image size-large"><img src="https://newscrewdriver.com/wp-content/uploads/2022/03/roomba-virtual-wall-electronics-board-bottom.jpg?w=1024" alt="" class="wp-image-29556"></figure>
<p><!-- /wp:image --></p>
<p><!-- wp:paragraph --></p>
<p>At least two circuit boards are visible inside, held by screws.</p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:image {"id":29558,"sizeSlug":"large","linkDestination":"none"} --></p>
<figure class="wp-block-image size-large"><img src="https://newscrewdriver.com/wp-content/uploads/2022/03/roomba-virtual-wall-electronics-board-closeup.jpg?w=1024" alt="" class="wp-image-29558"></figure>
<p><!-- /wp:image --></p>
<p><!-- wp:paragraph --></p>
<p>The most unusual component visible here is a chip hidden under a black blob mounted on a small white circuit board, which is then connected to the large board at a right angle. It is accompanied by several through-hole components.</p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:image {"id":29560,"sizeSlug":"large","linkDestination":"none"} --></p>
<figure class="wp-block-image size-large"><img src="https://newscrewdriver.com/wp-content/uploads/2022/03/roomba-virtual-wall-electronics-board-top.jpg?w=1024" alt="" class="wp-image-29560"></figure>
<p><!-- /wp:image --></p>
<p><!-- wp:paragraph --></p>
<p>Flipping it over, we can see the narrow circuit board is just a carrier for the sliding switch that controls the LED power and thus range of the virtual wall. The large board has a series of unremarkable surface mount components. The green power LED and directional infrared LED are mounted directly to this board, and the omnidirectional LED assembly is attached with a pair of wires. We can also see here the ten-conductor connection point for that odd-looking vertical white board with the chip under a blob.</p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:image {"id":29562,"sizeSlug":"large","linkDestination":"none"} --></p>
<figure class="wp-block-image size-large"><img src="https://newscrewdriver.com/wp-content/uploads/2022/03/roomba-virtual-wall-power-switch.jpg?w=1024" alt="" class="wp-image-29562"></figure>
<p><!-- /wp:image --></p>
<p><!-- wp:paragraph --></p>
<p>Here's an explanation for why the power switch felt like it had two detents: it pushes on two separate switches each with their rubber dome. So we felt one, then the other, rubber domes make contact. Looking at the trace, these switches (Labeled SW1 and SW2) are wired in parallel. It seems like a lot of work just for the sake of redundancy, but I can't think of another reason why it might be designed this way.</p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:image {"id":29564,"sizeSlug":"large","linkDestination":"none"} --></p>
<figure class="wp-block-image size-large"><img src="https://newscrewdriver.com/wp-content/uploads/2022/03/roomba-virtual-wall-omni-led-hot-glue.jpg?w=1024" alt="" class="wp-image-29564"></figure>
<p><!-- /wp:image --></p>
<p><!-- wp:paragraph --></p>
<p>The omnidirectional LED seems to be held down by hot glue.</p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:image {"id":29566,"sizeSlug":"large","linkDestination":"none"} --></p>
<figure class="wp-block-image size-large"><img src="https://newscrewdriver.com/wp-content/uploads/2022/03/roomba-virtual-wall-omni-led-hot-glue-removed.jpg?w=1024" alt="" class="wp-image-29566"></figure>
<p><!-- /wp:image --></p>
<p><!-- wp:paragraph --></p>
<p>I was skeptical when I was told that isopropyl alcohol helps release hot glue, but I have to admit it seemed to have worked well here. But when the glue was removed, I saw the LED is also held in place by a circular piece of plastic that has been welded/glued in place. Why did they feel the hot glue was necessary? If I wanted to replace the LED, I would have to break this piece of plastic, so I'll hold off for now. I'm going to save this little omnidirectional LED assembly. I might find a use in the future, and that use might be infrared!</p>
<p><!-- /wp:paragraph --><br />
</body></html></p>
