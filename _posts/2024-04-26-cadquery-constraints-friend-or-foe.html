---
layout: post
title: 'CadQuery Constraints: Friend or Foe?'
date: 2024-04-26 13:02:28.000000000 +00:00
type: post
post_id: '43198'
parent_id: '0'
published: true
password: ''
status: publish
categories:
- Software Tools
tags: []
meta:
  _jetpack_memberships_contains_paywalled_content: ''
  _jetpack_memberships_contains_paid_content: ''
  _last_editor_used_jetpack: block-editor
  wordads_ufa: u:wpcom-ufa-v4:1714250985
  firehose_sent: '1714161750'
  _thumbnail_id: '43166'
  timeline_notification: '1714161751'
  _publicize_job_id: '94006477882'
  _elasticsearch_data_sharing_indexed_on: '2024-04-27 20:49:55'
author:
  login: inkarc
  email: luxo.lamp@gmail.com
  display_name: Roger Cheng
  first_name: Roger
  last_name: Cheng
permalink: "/2024/04/26/cadquery-constraints-friend-or-foe/"
---
<p><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd"><br />
<!-- wp:paragraph --><html><body></p>
<p>Dreaming about <a href="https://newscrewdriver.com/2024/04/25/my-desired-hyundai-doesnt-exist-yet/">cars I can't buy</a> was fun but now it's back to study time. I've got CadQuery + Jupyter set up and <a href="https://newscrewdriver.com/2024/04/23/cadquery-quick-start-in-jupyter/">ran through its quick start tutorial</a>. I think there's a lot of promise in CadQuery and plan to invest time to climb its learning curve. Before I roll up my sleeves and dive in, though, I skimmed ahead to check a few features, the biggest one being constraints.</p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:paragraph --></p>
<p>Specifying constraints in CAD is a concept that is <a href="https://en.wikipedia.org/wiki/Constraint_(computer-aided_design)">almost as old as CAD itself</a>. It is an important tool for a part designer to embed intent into a design ensuring future changes will not deviate from original intent. The ideal target for a design is to be fully constrained. An under-constrained design is ambiguous because it means some attribute can change without violating specifications, and that is rarely desirable. An over-constrained design is an impossible contradiction that needs to be resolved, a task that can be frustrating if a CAD tool <a href="https://newscrewdriver.com/2024/04/22/infuriating-freecad-error-messages/">fails to provide sufficient feedback</a>. Such frustration can drive people (me) away from certain tools (FreeCAD) to seek out others (CadQuery).</p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:paragraph --></p>
<p>When I explored the world of code-based CAD earlier, I had no luck finding ways to specify constraints or provide tools to resolve constraints. I inferred this to mean that they've left constraints to be specified in our code. Want to constrain a line to be tangential to an arc? Calculate their intersection point in your own code and use that point. The upside is that we have full control, the downside is a lot of duplicate effort repeating common constraint-solving tasks.</p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:paragraph --></p>
<p>The good news is that CadQuery doesn't drop constraints in our lap as our responsibility. Or at least, it has ambition to handle constraints. I found a page discussing <a href="https://cadquery.readthedocs.io/en/latest/sketch.html#constraint-based-sketches">sketch constraints</a> (addressing the arc+line tangent example above) but with a disclaimer the feature is still experimental in development. There are also ways to specify <a href="https://cadquery.readthedocs.io/en/latest/assy.html#constraints">constraints in multi-part assemblies</a>, which seem to be a counterpart to Onshape mates that I've used to specify relationship between Sawppy parts.</p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:paragraph --></p>
<p>It looks good on paper! But then, FreeCAD looked good on paper as well. I won't know if CadQuery constraints will be my friend or foe until I get deeper into learning it, but I wanted to know it at least existed before I got too deep into CadQuery. For now I'm still working to <a href="https://newscrewdriver.com/2024/04/27/cq-editor-standalone-on-vm-via-rdp/">get basic tools up and running</a>.</p>
<p><!-- /wp:paragraph --><br />
</body></html></p>
