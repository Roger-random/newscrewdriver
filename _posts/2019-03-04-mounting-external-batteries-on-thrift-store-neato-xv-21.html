---
layout: post
title: Mounting External Batteries on Thrift Store Neato XV-21
date: 2019-03-04 13:30:34.000000000 +00:00
type: post
post_id: '17935'
parent_id: '0'
published: true
password: ''
status: publish
categories:
- Projects
tags:
- Neato
meta:
  _rest_api_published: '1'
  _rest_api_client_id: "-1"
  timeline_notification: '1551735235'
  _oembed_562fc5f42353e3555a7ee791d91778b8: <div class="embed-twitter"><blockquote
    class="twitter-tweet" data-width="550" data-dnt="true"><p lang="en" dir="ltr">But
    those little batteries weren&#39;t powerful enough to run the vacuum so I mounted
    big <a href="https://twitter.com/hashtag/sawppy?src=hash&amp;ref_src=twsrc%5Etfw">#sawppy</a>
    batteries up top. Like <a href="https://twitter.com/TooManyScooters?ref_src=twsrc%5Etfw">@TooManyScooters</a>
    does for Roomba, but above Neato lidar line of sight. It all works! And now that
    I know it works, I will buy proper Neato replacement batteries. <a href="https://t.co/MAucz9OPvG">pic.twitter.com/MAucz9OPvG</a></p>&mdash;
    Roger Cheng (@Regorlas) <a href="https://twitter.com/Regorlas/status/1101593775095201792?ref_src=twsrc%5Etfw">March
    1, 2019</a></blockquote><script async src="https://platform.twitter.com/widgets.js"
    charset="utf-8"></script></div>
  _oembed_time_562fc5f42353e3555a7ee791d91778b8: '1551735233'
  _oembed_1e8e57f652736d325c4f9bb51a28edf5: <div class="embed-twitter"><blockquote
    class="twitter-tweet" data-width="550" data-dnt="true"><p lang="en" dir="ltr">But
    those little batteries weren&#39;t powerful enough to run the vacuum so I mounted
    big <a href="https://twitter.com/hashtag/sawppy?src=hash&amp;ref_src=twsrc%5Etfw">#sawppy</a>
    batteries up top. Like <a href="https://twitter.com/TooManyScooters?ref_src=twsrc%5Etfw">@TooManyScooters</a>
    does for Roomba, but above Neato lidar line of sight. It all works! And now that
    I know it works, I will buy proper Neato replacement batteries. <a href="https://t.co/MAucz9OPvG">pic.twitter.com/MAucz9OPvG</a></p>&mdash;
    Roger Cheng (@Regorlas) <a href="https://twitter.com/Regorlas/status/1101593775095201792?ref_src=twsrc%5Etfw">March
    1, 2019</a></blockquote><script async src="https://platform.twitter.com/widgets.js"
    charset="utf-8"></script></div>
  _publicize_job_id: '28274143455'
  _oembed_77fa2407e3dfafca10178f1c27a5499b: <div class="embed-twitter"><blockquote
    class="twitter-tweet" data-width="550" data-dnt="true"><p lang="en" dir="ltr">But
    those little batteries weren&#39;t powerful enough to run the vacuum so I mounted
    big <a href="https://twitter.com/hashtag/sawppy?src=hash&amp;ref_src=twsrc%5Etfw">#sawppy</a>
    batteries up top. Like <a href="https://twitter.com/TooManyScooters?ref_src=twsrc%5Etfw">@TooManyScooters</a>
    does for Roomba, but above Neato lidar line of sight. It all works! And now that
    I know it works, I will buy proper Neato replacement batteries. <a href="https://t.co/MAucz9OPvG">pic.twitter.com/MAucz9OPvG</a></p>&mdash;
    Roger Cheng (@Regorlas) <a href="https://twitter.com/Regorlas/status/1101593775095201792?ref_src=twsrc%5Etfw">March
    1, 2019</a></blockquote><script async src="https://platform.twitter.com/widgets.js"
    charset="utf-8"></script></div>
  _oembed_time_77fa2407e3dfafca10178f1c27a5499b: '1551735236'
  _oembed_time_1e8e57f652736d325c4f9bb51a28edf5: '1551735251'
  _oembed_022f8ffac83246964e1001e387b6fb02: <div class="embed-twitter"><blockquote
    class="twitter-tweet" data-width="500" data-dnt="true"><p lang="en" dir="ltr">But
    those little batteries weren&#39;t powerful enough to run the vacuum so I mounted
    big <a href="https://twitter.com/hashtag/sawppy?src=hash&amp;ref_src=twsrc%5Etfw">#sawppy</a>
    batteries up top. Like <a href="https://twitter.com/TooManyScooters?ref_src=twsrc%5Etfw">@TooManyScooters</a>
    does for Roomba, but above Neato lidar line of sight. It all works! And now that
    I know it works, I will buy proper Neato replacement batteries. <a href="https://t.co/MAucz9OPvG">pic.twitter.com/MAucz9OPvG</a></p>&mdash;
    Roger Cheng (@Regorlas) <a href="https://twitter.com/Regorlas/status/1101593775095201792?ref_src=twsrc%5Etfw">March
    1, 2019</a></blockquote><script async src="https://platform.twitter.com/widgets.js"
    charset="utf-8"></script></div>
  _oembed_time_022f8ffac83246964e1001e387b6fb02: '1551736242'
  _oembed_da4375b8925230adb0e7a9bd4c684ddb: <div class="embed-twitter"><blockquote
    class="twitter-tweet" data-width="550" data-dnt="true"><p lang="en" dir="ltr">But
    those little batteries weren&#39;t powerful enough to run the vacuum so I mounted
    big <a href="https://twitter.com/hashtag/sawppy?src=hash&amp;ref_src=twsrc%5Etfw">#sawppy</a>
    batteries up top. Like <a href="https://twitter.com/TooManyScooters?ref_src=twsrc%5Etfw">@TooManyScooters</a>
    does for Roomba, but above Neato lidar line of sight. It all works! And now that
    I know it works, I will buy proper Neato replacement batteries. <a href="https://t.co/MAucz9OPvG">pic.twitter.com/MAucz9OPvG</a></p>&mdash;
    Roger Cheng (@Regorlas) <a href="https://twitter.com/Regorlas/status/1101593775095201792?ref_src=twsrc%5Etfw">March
    1, 2019</a></blockquote><script async src="https://platform.twitter.com/widgets.js"
    charset="utf-8"></script></div>
  _oembed_time_da4375b8925230adb0e7a9bd4c684ddb: '1552306696'
  _oembed_b2a277d195d4d5473d3535d0055c0e84: <div class="embed-twitter"><blockquote
    class="twitter-tweet" data-width="550" data-dnt="true"><p lang="en" dir="ltr">But
    those little batteries weren&#39;t powerful enough to run the vacuum so I mounted
    big <a href="https://twitter.com/hashtag/sawppy?src=hash&amp;ref_src=twsrc%5Etfw">#sawppy</a>
    batteries up top. Like <a href="https://twitter.com/TooManyScooters?ref_src=twsrc%5Etfw">@TooManyScooters</a>
    does for Roomba, but above Neato lidar line of sight. It all works! And now that
    I know it works, I will buy proper Neato replacement batteries. <a href="https://t.co/MAucz9OPvG">pic.twitter.com/MAucz9OPvG</a></p>&mdash;
    Roger Cheng (@Regorlas) <a href="https://twitter.com/Regorlas/status/1101593775095201792?ref_src=twsrc%5Etfw">March
    1, 2019</a></blockquote><script async src="https://platform.twitter.com/widgets.js"
    charset="utf-8"></script></div>
  _oembed_time_b2a277d195d4d5473d3535d0055c0e84: '1627925140'
  _oembed_1fd88f4c6a6a8c89a39ffea6ac2757d3: <div class="embed-twitter"><blockquote
    class="twitter-tweet" data-width="550" data-dnt="true"><p lang="en" dir="ltr">But
    those little batteries weren&#39;t powerful enough to run the vacuum so I mounted
    big <a href="https://twitter.com/hashtag/sawppy?src=hash&amp;ref_src=twsrc%5Etfw">#sawppy</a>
    batteries up top. Like @TooManyScooters does for Roomba, but above Neato lidar
    line of sight. It all works! And now that I know it works, I will buy proper Neato
    replacement batteries. <a href="https://t.co/MAucz9OPvG">pic.twitter.com/MAucz9OPvG</a></p>&mdash;
    Roger Cheng (@Regorlas) <a href="https://twitter.com/Regorlas/status/1101593775095201792?ref_src=twsrc%5Etfw">March
    1, 2019</a></blockquote><script async src="https://platform.twitter.com/widgets.js"
    charset="utf-8"></script></div>
  _oembed_time_1fd88f4c6a6a8c89a39ffea6ac2757d3: '1708471061'
  _elasticsearch_data_sharing_indexed_on: '2024-11-18 13:23:50'
author:
  login: inkarc
  email: luxo.lamp@gmail.com
  display_name: Roger Cheng
  first_name: Roger
  last_name: Cheng
permalink: "/2019/03/04/mounting-external-batteries-on-thrift-store-neato-xv-21/"
---
<p><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd"><br />
<html><body>
<p>Using <a href="https://newscrewdriver.com/2019/02/27/replacement-battery-test-for-thrift-store-neato-xv-21/">small batteries I hacked into existing battery bays</a>, I was able to <a href="https://newscrewdriver.com/2019/03/01/query-neato-xv-21-system-status-via-usb/">query sensor status</a> and <a href="https://newscrewdriver.com/2019/03/03/sending-commands-to-neato-xv-21-via-usb/">command individual motors</a>. However, those small batteries were not powerful enough to run multiple motors simultaneously, which meant a full system test would not be possible until larger batteries are installed. At this point I could order some Neato-specific replacement batteries and have decent confidence it will work, but I would like additional confirmation before I spend money.</p>
<p>But I didn't have any batteries that were more powerful and still small enough to fit within Neato vacuum's existing battery bays. This meant batteries had to be installed externally. And if they're going to be external, I might as well go with the biggest batteries I have on hand: those I <a href="https://newscrewdriver.com/2018/06/06/powering-sawppy-the-rover/">purchased for Sawppy the rover</a>.</p>
<p>But where could I install those batteries?</p>
<p><img class="alignnone size-full wp-image-17937" src="https://newscrewdriver.com/wp-content/uploads/2019/02/neato-xv-21-with-two-big-power-packs.jpg" alt="Neato XV-21 with two big power packs" width="1600" height="923"></p>
<p>The most obvious place: is to put them on top of the dust collection bin. This is a popular location for Roomba battery retrofits, because it preserves weight balance and does not hinder Roomba operations. However, it won't work for a Neato: this position blocks the line of sight for the laser distance scanner.</p>
<p><img class="alignnone size-full wp-image-17936" src="https://newscrewdriver.com/wp-content/uploads/2019/02/neato-xv-21-with-two-big-power-packs-on-top-of-dust-bin.jpg" alt="Neato XV-21 with two big power packs on top of dust bin" width="1600" height="1262"></p>
<p>Installing the batteries on the front bumper would be out of lidar line of sight, and might help improve vacuum performance because their weight would help push the dirt brush roller into the ground. But this would change the behavior of front bumper which might confuse vacuum mapping algorithms, and using fragile batteries as your front bumper is never a good idea.</p>
<p><img class="alignnone size-full wp-image-17938" src="https://newscrewdriver.com/wp-content/uploads/2019/02/neato-xv-21-with-two-big-power-packs-in-front-of-bumper.jpg" alt="Neato XV-21 with two big power packs in front of bumper" width="1600" height="1171"></p>
<p>If we put batteries off to the sides, it preserves front clearance but now it interferes with side clearance. The vacuum would no longer be able to follow along walls closely to vacuum near walls if the batteries are attached to the sides.</p>
<p><img class="alignnone size-full wp-image-17939" src="https://newscrewdriver.com/wp-content/uploads/2019/02/neato-xv-21-with-two-big-power-packs-along-sides.jpg" alt="Neato XV-21 with two big power packs along sides.jpg" width="1600" height="1111"></p>
<p>Installing behind the vacuum disturbs the weight balance - battery weight is now trying to lift the brush roller off the ground. The back is not flat, making installation difficult. And that circular shape is there for a reason - its clearance helps the robot turn in tight spots. Batteries install behind the robot would get bashed against obstacles as the robot turned.</p>
<p><img class="alignnone size-full wp-image-17940" src="https://newscrewdriver.com/wp-content/uploads/2019/02/neato-xv-21-with-two-big-power-packs-behind.jpg" alt="Neato XV-21 with two big power packs behind" width="1600" height="1018"></p>
<p>And obvious we don't have any way to mount batteries on the underside of the vacuum, as there is only about 5mm of ground clearance. That exhausts all the potential directions we can go for external mounting.</p>
<p>Time to get creative.</p>
<p>Rethink top mounting, we recognize the problem is that we can't block laser distance scanner's line of sight. It looks out all around the top of the vacuum, except for one place: the raised protective cap above the lidar housing. Batteries mounted on top of that cap would not block laser scanner's line of sight.</p>
<p><img class="alignnone size-full wp-image-17941" src="https://newscrewdriver.com/wp-content/uploads/2019/02/neato-xv-21-with-two-big-power-packs-above-lidar.jpg" alt="Neato XV-21 with two big power packs above lidar" width="1600" height="1438"></p>
<p>Wires were run from battery compartment, which required drilling two small holes. To keep the power wire out of sight of lidar, the wires were routed through existing grooves on top of vacuum body and then followed existing  support pillars for lidar housing. This way, the wires should not introduce additional blind spots.</p>
<p><img class="alignnone size-full wp-image-17942" src="https://newscrewdriver.com/wp-content/uploads/2019/02/neato-xv-21-wire-routing-for-two-big-power-packs.jpg" alt="Neato XV-21 wire routing for two big power packs.jpg" width="1600" height="796"></p>
<p>With this hack, the robot vacuum can run on my pair of Sawppy rover batteries, which are plenty powerful enough to run all vacuum systems simultaneously. Now this little Neato is alive and can run through a full vacuum cycle, verifying that all systems worked.</p>
<p><img class="alignnone size-full wp-image-17943" src="https://newscrewdriver.com/wp-content/uploads/2019/02/neato-xv-21-up-and-running-with-two-big-power-packs.jpg" alt="Neato XV-21 up and running with two big power packs" width="1600" height="1554"></p>
<p>Obviously, this won't be the final long term solution. For one thing, Sawppy wants its batteries back. For another, the additional height on top of the robot hampers its ability to get under furniture for vacuuming, and the exposed wires are vulnerable to tangling on protrusions. What we need next are batteries <a href="https://newscrewdriver.com/2019/03/05/battery-replacement-options-for-thrift-store-neato-xv-21/">powerful enough to run a Neato and fit within existing battery bays</a>.</p>
<p>https://twitter.com/Regorlas/status/1101593775095201792</p>
<p></body></html></p>
