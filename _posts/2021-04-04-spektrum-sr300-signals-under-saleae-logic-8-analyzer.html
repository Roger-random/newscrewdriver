---
layout: post
title: Spektrum SR300 Signals Under Saleae Logic 8 Analyzer
date: 2021-04-04 12:30:00.000000000 +00:00
type: post
post_id: '25860'
parent_id: '0'
published: true
password: ''
status: publish
categories:
- Sawppy the Rover
tags:
- Micro Sawppy
- Rover
- Sawppy
meta:
  _last_editor_used_jetpack: block-editor
  _thumbnail_id: '25861'
  _publicize_job_id: '56774035927'
  timeline_notification: '1617564604'
  _elasticsearch_data_sharing_indexed_on: '2024-11-18 13:29:32'
author:
  login: inkarc
  email: luxo.lamp@gmail.com
  display_name: Roger Cheng
  first_name: Roger
  last_name: Cheng
permalink: "/2021/04/04/spektrum-sr300-signals-under-saleae-logic-8-analyzer/"
---
<p><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd"><br />
<!-- wp:paragraph --><html><body></p>
<p>Since several Sawppy V1 builders modified their rovers for control via classic radio control transmitters, I wanted to explore doing the same with Micro Sawppy Beta 3. I don't intend it to be the main, or even recommended, way to control a little rover. But I wanted it available as an option. Besides, I'm curious what such work would entail and thought it would be fun to try, this novelty is why I tackled the challenge first.</p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:paragraph --></p>
<p>In preparation for this project, I <a href="https://newscrewdriver.com/2021/04/03/spektrum-sr300-receiver-teardown/">modified my Spektrum SR300 radio receiver</a> so it is easier for me to plug other things into it, not just official RC servos and speed controls. Immediately after reassembly I verified I didn't break it with a quick test. Using affordable commodity micro servos which didn't have the special beveled plugs. I couldn't plug them in before, but now I could.</p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:paragraph --></p>
<p>Eventually I'll have wires connecting this servo to the ESP32 brain of my micro Sawppy rover, but before I do that I wanted to understand exactly what I will be working with. Having worked with hobby servo motors for many projects, I have a fair idea what their control signals are like. But all of my previous projects were about <em>emitting</em> these control signals, this is the first time I will <em>listen to</em> signals generated by another device.</p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:paragraph --></p>
<p>This is a task that can be done several different ways. One way is to use an oscilloscope, which can plot out the signal waveforms. But to my understanding, the best tool for this job is a signal analyzer. This is a tool I've wished I had on my workbench. I've been saving up for a <a rel="noreferrer noopener" href="https://www.saleae.com/" target="_blank">Saleae Logic 8</a> and this is the first chance to put one to use. Taking a peek at the servo control signals of a SR300 is a breeze for a Logic 8, it's just a simple Hello World to help me get my feet wet using this piece of equipment.</p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:paragraph --></p>
<p>I powered the SR300 receiver with four AA batteries, and connected Saleae probes as follows:</p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:list --></p>
<ul>
<li>Channel 0 on the positive voltage supply pin, to monitor any fluctuation of battery power.</li>
<li>Channel 1 on the steering servo signal pin.</li>
<li>Channel 2 on the throttle servo signal pin.</li>
<li>Channel 3 on the auxiliary channel servo signal pin.</li>
</ul>
<p><!-- /wp:list --></p>
<p><!-- wp:paragraph --></p>
<p>Walking through traces of me fiddling with the DX3E transmitter, I found the following:</p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:list --></p>
<ul>
<li>Pulse width of each control high signal ranged from 1 to 2 milliseconds, exactly conforming to RC convention.</li>
<li>The pulses are coming in faster than I had expected. Standard convention is for RC control pulses to arrive every 20 milliseconds, which translates to 50Hz. SR300 pulses are arriving every ~16.4 milliseconds, which translates to a bit over 60Hz. The ~16.4 milliseconds is measured from rising edge to rising edge of the steering signal, this matters because of the next item.</li>
<li><span style="color:initial;">Pulses arrive sequentially. Steering first, then throttle, then aux. The throttle control signal rising edge doesn't start until shortly after the steering signal's falling edge. This means if the steering signal is short, the throttle signal may start a little sooner than 16.4ms after the previous throttle signal. (At least for that one frame.)</span></li>
<li>There is no measurable dip in input voltage. Unsurprising but comforting to confirm the receiver draws minimal power and does not drag down battery voltage as it sends out pulses.</li>
<li>Pulse high is three volts. This was a surprise to me, I had expected the control IC to toggle a bank of transistors which will send out pulses at the same voltage level as the battery supply voltage. I had a feeling my expectation was wrong when I disassembled the SR300 and looked over its circuit board, and now I have confirmation on the Saleae trace: battery supply voltage of over five volts still generated control signal of a rock-steady three volts.</li>
</ul>
<p><!-- /wp:list --></p>
<p><!-- wp:paragraph --></p>
<p>The last bullet is great news. I had planned to build <a href="https://newscrewdriver.com/2021/03/25/provision-for-micro-sawppy-voltage-monitoring/" target="_blank" rel="noreferrer noopener">a voltage divider out of resistors</a> for the ESP32 to read these control pulses, and I wanted to measure pulse high in order to calculate the appropriate resistance values. The fact these are rock steady three volt signals meant that work is unnecessary, I could wire these control signal pins directly to input pins of an ESP32 without exceeding its maximum input voltage of 3.3V.</p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:paragraph --></p>
<p>Is thee volt pulse high common across all RC receivers? That I don't know. Anyone else who wants to wire a RC receiver to their micro servo should also measure the pulse high voltage to see if they need to drop the signal voltage. But for now it means I have confidence I have the hardware in place and can <a href="https://newscrewdriver.com/2021/04/05/notes-on-esp32-rmt-peripheral-for-receiving-rc-pwm/">work on software</a>.</p>
<p><!-- /wp:paragraph --><br />
</body></html></p>
