---
layout: post
title: Xbox 360 Kinect Needs A Substitute Rover
date: 2019-01-27 13:30:26.000000000 +00:00
type: post
post_id: '17691'
parent_id: '0'
published: true
password: ''
status: publish
categories:
- ROS
tags:
- Kinect
- MP1584
- OpenKinect
- RTAB-Map
meta:
  _rest_api_published: '1'
  _rest_api_client_id: "-1"
  _publicize_job_id: '26994164863'
  timeline_notification: '1548624636'
  _oembed_969fe5ac943e4d1fbca2938f275b66d4: <div class="embed-twitter"><blockquote
    class="twitter-tweet" data-width="500" data-dnt="true"><p lang="en" dir="ltr">Inspired
    by <a href="https://twitter.com/MohitBhoite?ref_src=twsrc%5Etfw">@MohitBhoite</a>
    my first circuit sculpture project is a copper body for my <a href="https://twitter.com/tindie?ref_src=twsrc%5Etfw">@tindie</a>
    badge. <a href="https://twitter.com/hashtag/circuitsculpture?src=hash&amp;ref_src=twsrc%5Etfw">#circuitsculpture</a>
    <a href="https://t.co/H38gDnmbtF">pic.twitter.com/H38gDnmbtF</a></p>&mdash; Roger
    Cheng (@Regorlas) <a href="https://twitter.com/Regorlas/status/1076650880693284865?ref_src=twsrc%5Etfw">December
    23, 2018</a></blockquote><script async src="https://platform.twitter.com/widgets.js"
    charset="utf-8"></script></div>
  _oembed_time_969fe5ac943e4d1fbca2938f275b66d4: '1548645531'
  _edit_last: '98499281'
  _elasticsearch_data_sharing_indexed_on: '2024-11-18 13:23:31'
author:
  login: inkarc
  email: luxo.lamp@gmail.com
  display_name: Roger Cheng
  first_name: Roger
  last_name: Cheng
permalink: "/2019/01/27/xbox-360-kinect-needs-a-substitute-rover/"
---
<p><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd"><br />
<html><body>
<p>It was pretty cool to see <a href="https://newscrewdriver.com/2019/01/26/xbox-360-kinect-and-rtab-map-handheld-3d-environment-scanning/">RTAB-Map build a 3D map of its environment</a> using data generated by my hands waving a Xbox 360 Kinect around. However, that isn't very representative of rover operation. When I wave it around manually, motions are mostly pan and tilt but not much translation. The optical flow of video feed from a rover traveling along the ground would be mostly dominated by forward travel, occasional panning as the vehicle turns, and limited tilt. So the next experiment is to put the Kinect on a rover to see how it acts.</p>
<p>This is analogous to what we did at SGVTech when I first brought in the LIDAR from a Neato vacuum: <a href="https://newscrewdriver.com/2018/08/23/observations-from-a-neato-lidar-on-the-move/">we placed on top of SGVHAK Rover and drove it around the shop to see what it sees</a>. Unfortunately, the SGVHAK Rover is currently in the middle of an upgrade and disassembled on a workbench. We'll need something else to stand in for a rover chassis. Behold, the substitute rover:</p>
<p><img class=" size-full wp-image-17692 aligncenter" src="https://newscrewdriver.com/wp-content/uploads/2019/01/kinect-with-office-chair-simulating-rover.jpg" alt="kinect with office chair simulating rover" width="1600" height="876"></p>
<p>Yes, that is a Xbox 360 Kinect sensor bar taped on top of an office chair. The laptop talking to the Kinect can sit on the chair easily enough, but the separate 12V power supply took a bit more work. I had two identical two-cell lithium battery packs. Wiring those two ~7.4V volt packs in series gave me ~14.8 volts, which fed into <a href="https://newscrewdriver.com/2017/07/27/powering-the-raspberry-pi-3-with-mp1584-voltage-step-down-converter/">a voltage regulator</a> bringing it down to 12V for the Kinect. The whole battery power contraption is visible in this picture taped to the laptop's wrist rest next to the trackpad.</p>
<p>This gave us a wheeled platform for linear and rotational motion along the ground while keeping the Kinect at a constant height. This is more representative of the type of motion it will see mounted on a rover. Wheeling the chair around the shop, we would see the visual odometer performance is impressive, traveling in a line for about three meters resulted in only a few centimeters of error between its internal representation and reality.</p>
<p>We found this by turning the chair around to let the Kinect see where it came from and compare the newly plotted dots against those it plotted three meters ago. But this raised a new question: was it reasonable to expect that RTAB-Map algorithm match the new dots against the old? Using distance data to correct for odometer drift was one thing Phoebe could do in GMapping. I had hoped RTAB-Map would use new observations to correct for its own visual odometry drift. But instead, it started plotting features a few centimeters off from their original position, creating a "ghost" in point cloud data. Maybe I'm using RTAB-Map wrong somewhere... this is worrisome behavior that needs to be understood.</p>
<p></body></html></p>
