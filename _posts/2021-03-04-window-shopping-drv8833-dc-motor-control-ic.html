---
layout: post
title: Window Shopping DRV8833 DC Motor Control IC
date: 2021-03-04 12:30:00.000000000 +00:00
type: post
post_id: '25399'
parent_id: '0'
published: true
password: ''
status: publish
categories:
- Electronic Components
- Sawppy the Rover
- Window Shopping
tags:
- Micro Sawppy
meta:
  _last_editor_used_jetpack: block-editor
  _thumbnail_id: '25392'
  _publicize_job_id: '55549517801'
  timeline_notification: '1614889812'
  wordads_ufa: s:wpcom-ufa-v3-beta:1668501286
  _elasticsearch_data_sharing_indexed_on: '2024-11-18 13:29:19'
author:
  login: inkarc
  email: luxo.lamp@gmail.com
  display_name: Roger Cheng
  first_name: Roger
  last_name: Cheng
permalink: "/2021/03/04/window-shopping-drv8833-dc-motor-control-ic/"
---
<p><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd"><br />
<!-- wp:paragraph --><html><body></p>
<p>It was a pure accident that I stumbled across the DRV8833 DC motor control IC. After <a href="https://newscrewdriver.com/2021/03/03/tb6612-vs-drv8833-dc-motor-driver-ics-for-esp32-micro-sawppy/">a quick comparison against my original candidate TB6612</a> I think some DRV8833 modules might actually the better choice for my micro Sawppy rover project. Its required control signals are an ideal fit for the <a href="https://newscrewdriver.com/2021/02/19/notes-on-esp32-pwm-peripherals/">MCPWM peripheral</a> on the ESP32 I planned as my rover brain. Though note not all models of the ESP32 line has MCPWM peripherals, for example it appears to be <a rel="noreferrer noopener" href="https://www.espressif.com/sites/default/files/documentation/esp32-s2_technical_reference_manual_en.pdf" target="_blank">absent from the ESP32-S2</a>.</p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:paragraph --></p>
<p>The DRV8833 is less capable than the TB6612 in some ways. For example, the maximum voltage is listed as 10.8V which is lower than the 15V listed for TB6612, and far short of the 45V listed for a L298. But TT gearmotors are typically listed with a maximum voltage of 6V, so I should be fine. I was surprised that the amperage rating isn't much lower, with 1.5A typical and 2A peak that should suffice for TT gearmotors. And if I need additional current carrying capacity, the DRV8833 is explicitly stated to be capable of both output stages working in parallel to double the maximum current. The L298 datasheet also explicitly listed parallel operation as an option, but the TB6612 did not.</p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:paragraph --></p>
<p>Like the L298, the DRV8833 has provisions for current-sensing resistors between AISEN and BISEN pins to ground. But unlike the L298, the DRV8833 will actually read their voltage to limit maximum current output. The current-sensing resistors are a whole world into themselves. They work best when placed close to the IC because that minimizes variation introduced by PCB traces. But if they are close, they will be in close proximity to heat generated by the IC, which will change their resistance. Quite a few variables need to be juggled for it to work right, so I'll probably choose to opt out of current limiting and connect those pins to ground. Fortunately the chip's own overcurrent protection circuit works independently and will activate with or without external current-sensing resistors.</p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:paragraph --></p>
<p>All four control pins, two for each stage, have internal pull-down resistors. Thus this chip is always in a defined state and we don't have to worry about any particular startup sequence. Whether power arrives first or control signals arrive first, the chip will work in a known way. There are two more input pins, one to control sleep and another to signify fault. The fault signal is open-drain which would make it compatible with a lot of different circuits, but I might not have ESP32 input pins to spare for detecting fault conditions. I won't worry about low-power sleep (at least not yet) for micro Sawppy, and in that case the recommended procedure is to pull it up with a 25-75kOhm resistor.</p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:paragraph --></p>
<p>In addition to that optional resistor, there are three required capacitors, but no external diodes are required. Looks like the diodes to handle back-EMF from inductive loads are built in which is great news. It makes for a pretty short list of external support components, but I still don't plan to use the chip directly. The first reason is that I have many options for breakout boards. From high quality <a rel="noreferrer noopener" href="https://www.adafruit.com/product/3297" target="_blank">Adafruit #3297</a> to the <a rel="noreferrer noopener" href="https://amzn.to/2RY5NIm" target="_blank">lowest bidder of the day on Amazon</a>.(*) For low quantities it's worth a few extra bucks to pay for an already-assembled breakout board.</p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:paragraph --></p>
<p>The second reason is that I can't meet proper installation requirements for the more capable DRV8833 variants. As is typical, the DRV8833 is available in several chip package formats. I was surprised to see that one of them had a much lower rating for typical amperage, a third of the others. However, peak rating stayed the same, so I suspected it's not a limitation of the chip itself. Further reading (section 10.3.1) confirmed that maximum current of a DRV8833 is a direct function of heat dissipation and the lower-rated chip package lacked a heat conduction pad present in the others. (TI calls it <a rel="noreferrer noopener" href="https://www.ti.com/lit/an/slma002h/slma002h.pdf" target="_blank">PowerPAD</a>.) Thus soldering a DRV8833 correctly requires reflow soldering. I would have to <a rel="noreferrer noopener" href="https://jlcpcb.com/parts/componentSearch?searchTxt=DRV8833" target="_blank">pay someone else</a> to handle it, or buy my own reflow setup, but that's a concern for the future. Right now I can <a href="https://newscrewdriver.com/2021/03/06/notes-on-commodity-drv8833-breakout-board/">start with some cheap breakout boards</a>.</p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:separator --></p>
<hr class="wp-block-separator">
<!-- /wp:separator --></p>
<p><!-- wp:paragraph {"align":"center"} --></p>
<p class="has-text-align-center">(*) Disclosure: As an Amazon Associate I earn from qualifying purchases.</p>
<p><!-- /wp:paragraph --><br />
</body></html></p>
