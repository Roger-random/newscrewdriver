---
layout: post
title: HSV Color Wheel of 256 RGB332 Colors
date: 2021-05-13 12:30:00.000000000 +00:00
type: post
post_id: '26548'
parent_id: '0'
published: true
password: ''
status: publish
categories:
- Programming Languages
tags:
- Composite Video
- ESP_8_BIT
- HTML
- JavaScript
- NTSC
- RGB332
- Three.js
meta:
  _last_editor_used_jetpack: block-editor
  _thumbnail_id: '26547'
  _oembed_9274249dd1190d0ece07e7e340cfef93: <div class="embed-twitter"><blockquote
    class="twitter-tweet" data-width="500" data-dnt="true"><p lang="en" dir="ltr">HSV
    color cylinder with just 8-bit RGB332 colors. Original goal was to see if this
    can be flattened into a usable color chart in 2D. &quot;Just 256, how hard can
    it be?&quot; <a href="https://t.co/lsTQJTO6x8">pic.twitter.com/lsTQJTO6x8</a></p>&mdash;
    Roger Cheng (@Regorlas) <a href="https://twitter.com/Regorlas/status/1387533762225860610?ref_src=twsrc%5Etfw">April
    28, 2021</a></blockquote><script async src="https://platform.twitter.com/widgets.js"
    charset="utf-8"></script></div>
  _oembed_time_9274249dd1190d0ece07e7e340cfef93: '1620117485'
  _oembed_909eea58fe49f503e977f7c9c6225b57: <div class="embed-twitter"><blockquote
    class="twitter-tweet" data-width="550" data-dnt="true"><p lang="en" dir="ltr">HSV
    color cylinder with just 8-bit RGB332 colors. Original goal was to see if this
    can be flattened into a usable color chart in 2D. &quot;Just 256, how hard can
    it be?&quot; <a href="https://t.co/lsTQJTO6x8">pic.twitter.com/lsTQJTO6x8</a></p>&mdash;
    Roger Cheng (@Regorlas) <a href="https://twitter.com/Regorlas/status/1387533762225860610?ref_src=twsrc%5Etfw">April
    28, 2021</a></blockquote><script async src="https://platform.twitter.com/widgets.js"
    charset="utf-8"></script></div>
  _oembed_time_909eea58fe49f503e977f7c9c6225b57: '1620295458'
  _oembed_15a689a27a4d0379dde8009368d8c84b: '<div class="embed-twitter"><blockquote
    class="twitter-tweet" data-width="500" data-dnt="true"><p lang="en" dir="ltr">Me:
    This 8-bit color chart sucks. I can make one that makes more sense. <br><br>Also
    me: <a href="https://t.co/i7uYBIbPya">pic.twitter.com/i7uYBIbPya</a></p>&mdash;
    Emily Velasco (@MLE_Online) <a href="https://twitter.com/MLE_Online/status/1386893522767286272?ref_src=twsrc%5Etfw">April
    27, 2021</a></blockquote><script async src="https://platform.twitter.com/widgets.js"
    charset="utf-8"></script></div>'
  _publicize_job_id: '58324539596'
  timeline_notification: '1620934250'
  _oembed_bd72f869193519209965a4f0621aadfe: <div class="embed-twitter"><blockquote
    class="twitter-tweet" data-width="550" data-dnt="true"><p lang="en" dir="ltr">HSV
    color cylinder with just 8-bit RGB332 colors. Original goal was to see if this
    can be flattened into a usable color chart in 2D. &quot;Just 256, how hard can
    it be?&quot; <a href="https://t.co/lsTQJTO6x8">pic.twitter.com/lsTQJTO6x8</a></p>&mdash;
    Roger Cheng (@Regorlas) <a href="https://twitter.com/Regorlas/status/1387533762225860610?ref_src=twsrc%5Etfw">April
    28, 2021</a></blockquote><script async src="https://platform.twitter.com/widgets.js"
    charset="utf-8"></script></div>
  _oembed_time_bd72f869193519209965a4f0621aadfe: '1620934251'
  _oembed_6126891ec9e848018b20d49cc46ab07f: <div class="embed-twitter"><blockquote
    class="twitter-tweet" data-width="550" data-dnt="true"><p lang="en" dir="ltr">HSV
    color cylinder with just 8-bit RGB332 colors. Original goal was to see if this
    can be flattened into a usable color chart in 2D. &quot;Just 256, how hard can
    it be?&quot; <a href="https://t.co/lsTQJTO6x8">pic.twitter.com/lsTQJTO6x8</a></p>&mdash;
    Roger Cheng (@Regorlas) <a href="https://twitter.com/Regorlas/status/1387533762225860610?ref_src=twsrc%5Etfw">April
    28, 2021</a></blockquote><script async src="https://platform.twitter.com/widgets.js"
    charset="utf-8"></script></div>
  _oembed_time_6126891ec9e848018b20d49cc46ab07f: '1620934251'
  _oembed_time_15a689a27a4d0379dde8009368d8c84b: '1620936430'
  _oembed_cd986915f33d644b36fa1c7b5f01f315: <div class="embed-twitter"><blockquote
    class="twitter-tweet" data-width="550" data-dnt="true"><p lang="en" dir="ltr">HSV
    color cylinder with just 8-bit RGB332 colors. Original goal was to see if this
    can be flattened into a usable color chart in 2D. &quot;Just 256, how hard can
    it be?&quot; <a href="https://t.co/lsTQJTO6x8">pic.twitter.com/lsTQJTO6x8</a></p>&mdash;
    Roger Cheng (@Regorlas) <a href="https://twitter.com/Regorlas/status/1387533762225860610?ref_src=twsrc%5Etfw">April
    28, 2021</a></blockquote><script async src="https://platform.twitter.com/widgets.js"
    charset="utf-8"></script></div>
  _oembed_time_cd986915f33d644b36fa1c7b5f01f315: '1708471184'
  _elasticsearch_data_sharing_indexed_on: '2024-11-18 13:29:51'
author:
  login: inkarc
  email: luxo.lamp@gmail.com
  display_name: Roger Cheng
  first_name: Roger
  last_name: Cheng
permalink: "/2021/05/13/hsv-color-wheel-of-256-rgb332-colors/"
---
<p><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd"><br />
<!-- wp:paragraph --><html><body></p>
<p>I have a <a href="https://newscrewdriver.com/2021/05/12/brainstorming-ways-to-showcase-rgb332-palette/">rectangular spread of all 256 colors of the 8-bit RGB332 color cube</a>. This satisfies the technical requirement to present all the colors possible in my composite video out library, built by bolting the Adafruit GFX library on top of video signal generation code of rossumur's ESP_8_BIT project for ESP32. But even though it satisfies the technical requirements, it is vaguely unsatisfying because making a slice for each of four blue channel values necessarily meant separating some similar colors from each other. While Emily went to Photoshop to play with creative arrangements, I went into code.</p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:paragraph --></p>
<p>I thought I'd look into arranging these colors in the <a rel="noreferrer noopener" href="https://en.wikipedia.org/wiki/HSL_and_HSV" target="_blank">HSV color space</a>, which I was first exposed to via Pixelblaze I used in <a rel="noreferrer noopener" href="https://newscrewdriver.com/tag/glow-flow" target="_blank">my <em>Glow Flow</em> project</a>. HSV is good for keeping similar colors together and is typically depicted as a wheel of colors with the angles around the circle corresponding to the H or hue axis. However, that still leaves two more dimensions of values: saturation and value. We still have the general problem of three variables but only two dimensions to represent them, but again I hoped the limited set of 256 colors could be put to advantage. I tried working through the layout on paper, then a spreadsheet, but eventually decided I need to see the HSV color space plotted out as a cylinder in three dimensional space.</p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:paragraph --></p>
<p>I briefly considered putting something together in Unity3D, since I have a bit of familiarity with it via <a rel="noreferrer noopener" href="https://newscrewdriver.com/2021/02/12/bouncy-bouncy-lights/" target="_blank">my <em>Bouncy Bouncy Lights</em> project</a>. But I thought Unity would be too heavyweight and overkill for this project, specifically because I didn't need a built-in physics engine for this project. Building a Unity 3D project takes a good chunk of time and imposes downtime breaking my trains of thought. Ideally I can try ideas and see them instantly by pressing F5 like a web page.</p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:paragraph --></p>
<p>Which led me to <a rel="noreferrer noopener" href="https://threejs.org/" target="_blank">three.js</a>, a JavaScript library for 3D graphics in a browser. The Getting Started guide walked me through <a rel="noreferrer noopener" href="https://threejs.org/docs/index.html#manual/en/introduction/Creating-a-scene" target="_blank">creating a scene with a single cube</a>, and I got the fast F5 refresh that I wanted. In addition to rendering, I wanted a way to look around a HSV space. I found <a rel="noreferrer noopener" href="https://threejs.org/docs/index.html?q=Orbit#examples/en/controls/OrbitControls" target="_blank">OrbitControls</a> in the three.js examples library, letting us manipulate the camera view using a pointer device (mouse, touchpad, etc.) and that was enough for me to get down to business.</p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:paragraph --></p>
<p>I wrote some JavaScript to convert each of the 256 RGB values into their HSV equivalents, and from there to a HSV coordinate in three dimensions. When the color cylinder popped up on screen, I was quite disappointed to see no obvious path to flatten that to two dimensions. But even though it didn't give me the flash of insight I sought, the layout is still interesting. I see a pattern, but it is not consistent across the whole cylinder. There's something going on but I couldn't immediately articulate what it is.</p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:paragraph --></p>
<p>Independent of those curiosities, I decided the cylinder looks cool all on its own, so I'll <a href="https://newscrewdriver.com/2021/05/14/notes-of-a-three-js-beginner-color-picker-with-raycaster/">keep working with it to make it useful</a>.</p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:embed {"url":"https:\/\/twitter.com\/Regorlas\/status\/1387533762225860610","type":"rich","providerNameSlug":"twitter","responsive":true} --></p>
<figure class="wp-block-embed is-type-rich is-provider-twitter wp-block-embed-twitter">
<div class="wp-block-embed__wrapper">
https://twitter.com/Regorlas/status/1387533762225860610
</div>
</figure>
<p><!-- /wp:embed --></p>
<p><!-- wp:paragraph {"align":"center"} --></p>
<p class="has-text-align-center">[Code for this project is <a href="https://github.com/Roger-random/RGB332_color_wheel_three.js" target="_blank" rel="noreferrer noopener">publicly available on GitHub</a>]</p>
<p><!-- /wp:paragraph --><br />
</body></html></p>
